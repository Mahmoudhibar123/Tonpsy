{"ast":null,"code":"// Livestamp.js / v2.0.0 / (c) 2015 Matt Bradley / MIT License\n(function (plugin) {\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module.\n    define(['jquery', 'moment'], plugin);\n  } else {\n    // Browser globals\n    plugin(jQuery, moment);\n  }\n})(function ($, moment) {\n  var updateInterval = 1e3,\n      paused = false,\n      $livestamps = $([]),\n      init = function init() {\n    livestampGlobal.resume();\n  },\n      prep = function prep($el, timestamp) {\n    var oldData = $el.data('livestampdata');\n    if (typeof timestamp == 'number') timestamp *= 1e3;\n    $el.removeAttr('data-livestamp').removeData('livestamp');\n    timestamp = moment(timestamp);\n\n    if (moment.isMoment(timestamp) && !isNaN(+timestamp)) {\n      var newData = $.extend({}, {\n        'original': $el.contents()\n      }, oldData);\n      newData.moment = moment(timestamp);\n      $el.data('livestampdata', newData).empty();\n      $livestamps.push($el[0]);\n    }\n  },\n      run = function run() {\n    if (paused) return;\n    livestampGlobal.update();\n    setTimeout(run, updateInterval);\n  },\n      livestampGlobal = {\n    update: function update() {\n      $('[data-livestamp]').each(function () {\n        var $this = $(this);\n        prep($this, $this.data('livestamp'));\n      });\n      var toRemove = [];\n      $livestamps.each(function () {\n        var $this = $(this),\n            data = $this.data('livestampdata');\n        if (data === undefined) toRemove.push(this);else if (moment.isMoment(data.moment)) {\n          var from = $this.html(),\n              to = data.moment.fromNow();\n\n          if (from != to) {\n            var e = $.Event('change.livestamp');\n            $this.trigger(e, [from, to]);\n            if (!e.isDefaultPrevented()) $this.html(to);\n          }\n        }\n      });\n      $livestamps = $livestamps.not(toRemove);\n      delete $livestamps.prevObject;\n    },\n    pause: function pause() {\n      paused = true;\n    },\n    resume: function resume() {\n      paused = false;\n      run();\n    },\n    interval: function interval(_interval) {\n      if (_interval === undefined) return updateInterval;\n      updateInterval = _interval;\n    }\n  },\n      livestampLocal = {\n    add: function add($el, timestamp) {\n      if (typeof timestamp == 'number') timestamp *= 1e3;\n      timestamp = moment(timestamp);\n\n      if (moment.isMoment(timestamp) && !isNaN(+timestamp)) {\n        $el.each(function () {\n          prep($(this), timestamp);\n        });\n        livestampGlobal.update();\n      }\n\n      return $el;\n    },\n    destroy: function destroy($el) {\n      $livestamps = $livestamps.not($el);\n      $el.each(function () {\n        var $this = $(this),\n            data = $this.data('livestampdata');\n        if (data === undefined) return $el;\n        $this.html(data.original ? data.original : '').removeData('livestampdata');\n      });\n      return $el;\n    },\n    isLivestamp: function isLivestamp($el) {\n      return $el.data('livestampdata') !== undefined;\n    }\n  };\n\n  $.livestamp = livestampGlobal;\n  $(init);\n\n  $.fn.livestamp = function (method, options) {\n    if (!livestampLocal[method]) {\n      options = method;\n      method = 'add';\n    }\n\n    return livestampLocal[method](this, options);\n  };\n});","map":{"version":3,"sources":["/home/fizoumizou/Documents/pfe/react/node_modules/kuende-livestamp/livestamp.js"],"names":["plugin","define","amd","jQuery","moment","$","updateInterval","paused","$livestamps","init","livestampGlobal","resume","prep","$el","timestamp","oldData","data","removeAttr","removeData","isMoment","isNaN","newData","extend","contents","empty","push","run","update","setTimeout","each","$this","toRemove","undefined","from","html","to","fromNow","e","Event","trigger","isDefaultPrevented","not","prevObject","pause","interval","livestampLocal","add","destroy","original","isLivestamp","livestamp","fn","method","options"],"mappings":"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","sourcesContent":["// Livestamp.js / v2.0.0 / (c) 2015 Matt Bradley / MIT License\n(function (plugin) {\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module.\n    define(['jquery', 'moment'], plugin);\n  } else {\n    // Browser globals\n    plugin(jQuery, moment);\n  }\n}(function($, moment) {\n  var updateInterval = 1e3,\n      paused = false,\n      $livestamps = $([]),\n\n  init = function() {\n    livestampGlobal.resume();\n  },\n\n  prep = function($el, timestamp) {\n    var oldData = $el.data('livestampdata');\n    if (typeof timestamp == 'number')\n      timestamp *= 1e3;\n\n    $el.removeAttr('data-livestamp')\n      .removeData('livestamp');\n\n    timestamp = moment(timestamp);\n    if (moment.isMoment(timestamp) && !isNaN(+timestamp)) {\n      var newData = $.extend({ }, { 'original': $el.contents() }, oldData);\n      newData.moment = moment(timestamp);\n\n      $el.data('livestampdata', newData).empty();\n      $livestamps.push($el[0]);\n    }\n  },\n\n  run = function() {\n    if (paused) return;\n    livestampGlobal.update();\n    setTimeout(run, updateInterval);\n  },\n\n  livestampGlobal = {\n    update: function() {\n      $('[data-livestamp]').each(function() {\n        var $this = $(this);\n        prep($this, $this.data('livestamp'));\n      });\n\n      var toRemove = [];\n      $livestamps.each(function() {\n        var $this = $(this),\n            data = $this.data('livestampdata');\n\n        if (data === undefined)\n          toRemove.push(this);\n        else if (moment.isMoment(data.moment)) {\n          var from = $this.html(),\n              to = data.moment.fromNow();\n\n          if (from != to) {\n            var e = $.Event('change.livestamp');\n            $this.trigger(e, [from, to]);\n            if (!e.isDefaultPrevented())\n              $this.html(to);\n          }\n        }\n      });\n\n      $livestamps = $livestamps.not(toRemove);\n      delete $livestamps.prevObject\n    },\n\n    pause: function() {\n      paused = true;\n    },\n\n    resume: function() {\n      paused = false;\n      run();\n    },\n\n    interval: function(interval) {\n      if (interval === undefined)\n        return updateInterval;\n      updateInterval = interval;\n    }\n  },\n\n  livestampLocal = {\n    add: function($el, timestamp) {\n      if (typeof timestamp == 'number')\n        timestamp *= 1e3;\n      timestamp = moment(timestamp);\n\n      if (moment.isMoment(timestamp) && !isNaN(+timestamp)) {\n        $el.each(function() {\n          prep($(this), timestamp);\n        });\n        livestampGlobal.update();\n      }\n\n      return $el;\n    },\n\n    destroy: function($el) {\n      $livestamps = $livestamps.not($el);\n      $el.each(function() {\n        var $this = $(this),\n            data = $this.data('livestampdata');\n\n        if (data === undefined)\n          return $el;\n\n        $this\n          .html(data.original ? data.original : '')\n          .removeData('livestampdata');\n      });\n\n      return $el;\n    },\n\n    isLivestamp: function($el) {\n      return $el.data('livestampdata') !== undefined;\n    }\n  };\n\n  $.livestamp = livestampGlobal;\n  $(init);\n  $.fn.livestamp = function(method, options) {\n    if (!livestampLocal[method]) {\n      options = method;\n      method = 'add';\n    }\n\n    return livestampLocal[method](this, options);\n  };\n}));\n"]},"metadata":{},"sourceType":"script"}