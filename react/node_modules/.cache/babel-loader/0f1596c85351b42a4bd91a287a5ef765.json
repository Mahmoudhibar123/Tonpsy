{"ast":null,"code":"import _defineProperty from\"/home/fizoumizou/Documents/pfe/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/fizoumizou/Documents/pfe/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/fizoumizou/Documents/pfe/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/fizoumizou/Documents/pfe/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/fizoumizou/Documents/pfe/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import axios from\"axios\";import Header from\"../Header\";import Footer from\"../Footer\";import\"./MyProfile.css\";import placeholder from\"./../../assets/img/profile-placeholder.png\";import{API_ENDPOINT,IMAGE_ENDPOINT}from\"../../constant\";var MyProfile=/*#__PURE__*/function(_Component){_inherits(MyProfile,_Component);var _super=_createSuper(MyProfile);function MyProfile(props){var _this;_classCallCheck(this,MyProfile);_this=_super.call(this,props);_this.handleChange=function(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;_this.setState(_defineProperty({},name,value));};_this.handleSubmit=function(event){event.preventDefault();var _this$state=_this.state,first_name=_this$state.first_name,last_name=_this$state.last_name,address=_this$state.address,description=_this$state.description,userRes=_this$state.userRes;var user={first_name:first_name,last_name:last_name,address:address,description:description};axios.put(\"\".concat(API_ENDPOINT,\"/users/\").concat(userRes.id),{user:user},{withCredentials:true}).then(function(response){if(response.data.status===\"created\"){_this.props.handleLogin(response.data);_this.redirect();}else{_this.setState({errors:response.data.errors});}}).catch(function(error){return console.log(\"api errors:\",error);});};_this.loginStatus=function(){axios.get(\"\".concat(API_ENDPOINT,\"/logged_in\"),{withCredentials:true}).then(function(response){if(response.data.logged_in){_this.handleLogin(response);}else{_this.handleLogout();}}).catch(function(error){return console.log(\"api errors:\",error);});};_this.handleLogin=function(data){_this.setState({userRes:data.data.user,first_name:data.data.user.first_name,last_name:data.data.user.last_name,address:data.data.user.address,description:data.data.user.description,image:data.data.user.image});};_this.handleLogout=function(){_this.setState({userRes:{}});};_this.state={userRes:{},first_name:\"\",last_name:\"\",address:\"\",description:\"\",file:\"\",imagePreviewUrl:\"\",errors:\"\"};return _this;}_createClass(MyProfile,[{key:\"componentDidMount\",value:function componentDidMount(){this.loginStatus();}},{key:\"_handleSubmit\",value:function _handleSubmit(e){var _this2=this;e.preventDefault();var userRes=this.state.userRes;var imageData=new FormData();imageData.append('user[avatar]',this.state.file);axios.put(\"\".concat(API_ENDPOINT,\"/users/\").concat(userRes.id),imageData,{'Content-Type':'multipart/form-data',withCredentials:true}).then(function(response){if(response.status===200||response.status===204){_this2.redirect();}}).catch(function(response){console.log(response);});}},{key:\"_handleImageChange\",value:function _handleImageChange(e){var _this3=this;e.preventDefault();var reader=new FileReader();var file=e.target.files[0];reader.onloadend=function(){_this3.setState({file:file,imagePreviewUrl:reader.result});};reader.readAsDataURL(file);}},{key:\"render\",value:function render(){var _this4=this;var _this$props=this.props,loggedInStatus=_this$props.loggedInStatus,user=_this$props.user,handleLogout=_this$props.handleLogout;var _this$state2=this.state,first_name=_this$state2.first_name,last_name=_this$state2.last_name,address=_this$state2.address,description=_this$state2.description,imagePreviewUrl=_this$state2.imagePreviewUrl,image=_this$state2.image;var $imagePreview=null;if(imagePreviewUrl){$imagePreview=/*#__PURE__*/React.createElement(\"img\",{src:imagePreviewUrl,alt:\"\"});}else{$imagePreview=/*#__PURE__*/React.createElement(\"img\",{src:image?IMAGE_ENDPOINT+image:placeholder,alt:\"avatar\"});}return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Header,{loggedInStatus:loggedInStatus,user:user,isInner:true,handleLogout:handleLogout}),/*#__PURE__*/React.createElement(\"section\",{id:\"therapists\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container py-5\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"previewComponent pt-5\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:function onSubmit(e){return _this4._handleSubmit(e);}},/*#__PURE__*/React.createElement(\"div\",{className:\"image_container mx-auto mb-4\"},$imagePreview),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"input\",{type:\"file\",className:\"form-control\",onChange:function onChange(e){return _this4._handleImageChange(e);}})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary\",type:\"submit\",onClick:function onClick(e){return _this4._handleSubmit(e);}},\"Upload Image\"))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-8 col-lg-8\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"h3 my-5\"},\"My Profile\"),/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.handleSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",name:\"first_name\",placeholder:\"Firstname\",required:\"required\",value:first_name,onChange:this.handleChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",name:\"last_name\",placeholder:\"Lastname\",required:\"required\",value:last_name,onChange:this.handleChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"textarea\",{className:\"form-control\",name:\"address\",placeholder:\"Complete address\",required:\"required\",value:address,onChange:this.handleChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"textarea\",{className:\"form-control\",name:\"description\",placeholder:\"Description\",required:\"required\",value:description,onChange:this.handleChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"btn btn-primary\"},\"Update\"))))))),/*#__PURE__*/React.createElement(Footer,null));}}]);return MyProfile;}(Component);;export default MyProfile;","map":{"version":3,"sources":["/home/fizoumizou/Documents/pfe/react/src/components/user/MyProfile.js"],"names":["React","Component","axios","Header","Footer","placeholder","API_ENDPOINT","IMAGE_ENDPOINT","MyProfile","props","handleChange","event","target","name","value","setState","handleSubmit","preventDefault","state","first_name","last_name","address","description","userRes","user","put","id","withCredentials","then","response","data","status","handleLogin","redirect","errors","catch","error","console","log","loginStatus","get","logged_in","handleLogout","image","file","imagePreviewUrl","e","imageData","FormData","append","reader","FileReader","files","onloadend","result","readAsDataURL","loggedInStatus","$imagePreview","_handleSubmit","_handleImageChange"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport Header from \"../Header\";\r\nimport Footer from \"../Footer\";\r\nimport \"./MyProfile.css\";\r\nimport placeholder from \"./../../assets/img/profile-placeholder.png\";\r\nimport {\r\n    API_ENDPOINT,\r\n    IMAGE_ENDPOINT\r\n} from \"../../constant\";\r\n\r\nclass MyProfile extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            userRes: {},\r\n            first_name: \"\",\r\n            last_name: \"\",\r\n            address: \"\",\r\n            description: \"\",\r\n            file: \"\",\r\n            imagePreviewUrl: \"\",\r\n            errors: \"\"\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.loginStatus();\r\n    }\r\n\r\n    handleChange = event => {\r\n        const { name, value } = event.target;\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    };\r\n\r\n    handleSubmit = event => {\r\n        event.preventDefault();\r\n        const { first_name, last_name, address, description, userRes } = this.state;\r\n\r\n        let user = {\r\n            first_name: first_name,\r\n            last_name: last_name,\r\n            address: address,\r\n            description: description\r\n        };\r\n        axios\r\n            .put(`${API_ENDPOINT}/users/${userRes.id}`, { user }, { withCredentials: true })\r\n            .then(response => {\r\n                if (response.data.status === \"created\") {\r\n                    this.props.handleLogin(response.data);\r\n                    this.redirect();\r\n                } else {\r\n                    this.setState({\r\n                        errors: response.data.errors\r\n                    });\r\n                }\r\n            })\r\n            .catch(error => console.log(\"api errors:\", error));\r\n    };\r\n\r\n    loginStatus = () => {\r\n        axios\r\n            .get(`${API_ENDPOINT}/logged_in`, { withCredentials: true })\r\n            .then(response => {\r\n                if (response.data.logged_in) {\r\n                    this.handleLogin(response);\r\n                } else {\r\n                    this.handleLogout();\r\n                }\r\n            })\r\n            .catch(error => console.log(\"api errors:\", error));\r\n    };\r\n\r\n    handleLogin = data => {\r\n        this.setState({\r\n            userRes: data.data.user,\r\n            first_name: data.data.user.first_name,\r\n            last_name: data.data.user.last_name,\r\n            address: data.data.user.address,\r\n            description: data.data.user.description,\r\n            image: data.data.user.image\r\n        });\r\n\r\n    };\r\n\r\n    _handleSubmit(e) {\r\n        e.preventDefault();\r\n        const { userRes } = this.state;\r\n        var imageData = new FormData();\r\n        imageData.append('user[avatar]', this.state.file);\r\n        axios\r\n            .put(`${API_ENDPOINT}/users/${userRes.id}`, imageData, { 'Content-Type': 'multipart/form-data', withCredentials: true })\r\n            .then(response => {\r\n                if (response.status === 200 || response.status === 204) {\r\n                    this.redirect();\r\n                }\r\n            })\r\n            .catch(response => {\r\n                console.log(response);\r\n            });\r\n    }\r\n\r\n    _handleImageChange(e) {\r\n        e.preventDefault();\r\n\r\n        let reader = new FileReader();\r\n        let file = e.target.files[0];\r\n\r\n        reader.onloadend = () => {\r\n            this.setState({\r\n                file: file,\r\n                imagePreviewUrl: reader.result\r\n            });\r\n        };\r\n\r\n        reader.readAsDataURL(file);\r\n    }\r\n\r\n    handleLogout = () => {\r\n        this.setState({\r\n            userRes: {}\r\n        });\r\n    };\r\n\r\n    render() {\r\n        const { loggedInStatus, user, handleLogout } = this.props;\r\n        const { first_name, last_name, address, description, imagePreviewUrl, image } = this.state;\r\n        let $imagePreview = null;\r\n        if (imagePreviewUrl) {\r\n            $imagePreview = <img src={imagePreviewUrl} alt=\"\"/>;\r\n        } else {\r\n            $imagePreview = <img src={image ? IMAGE_ENDPOINT + image : placeholder} alt=\"avatar\" />;\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <Header\r\n                    loggedInStatus={loggedInStatus}\r\n                    user={user}\r\n                    isInner={true}\r\n                    handleLogout={handleLogout}\r\n                />\r\n                <section id=\"therapists\">\r\n                    <div className=\"container py-5\">\r\n                        <div className=\"row\">\r\n                            <div className=\"col-md-4\">\r\n                                <div className=\"previewComponent pt-5\">\r\n                                    <form onSubmit={e => this._handleSubmit(e)}>\r\n                                        <div className=\"image_container mx-auto mb-4\">\r\n                                            {$imagePreview}\r\n                                        </div>\r\n                                        <div className=\"form-group\">\r\n                                            <input\r\n                                                type=\"file\"\r\n                                                className=\"form-control\"\r\n                                                onChange={e => this._handleImageChange(e)}\r\n                                            />\r\n                                        </div>\r\n                                        <div className=\"form-group\">\r\n                                            <button\r\n                                                className=\"btn btn-primary\"\r\n                                                type=\"submit\"\r\n                                                onClick={e => this._handleSubmit(e)}\r\n                                            >\r\n                                                Upload Image\r\n                                                </button>\r\n                                        </div>\r\n                                    </form>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"col-md-8 col-lg-8\">\r\n                                <h1 className=\"h3 my-5\">\r\n                                    My Profile\r\n                                </h1>\r\n                                <form onSubmit={this.handleSubmit}>\r\n                                    <div className=\"form-group\">\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            className=\"form-control\"\r\n                                            name=\"first_name\"\r\n                                            placeholder=\"Firstname\"\r\n                                            required=\"required\"\r\n                                            value={first_name}\r\n                                            onChange={this.handleChange}\r\n                                        />\r\n                                    </div>\r\n                                    <div className=\"form-group\">\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            className=\"form-control\"\r\n                                            name=\"last_name\"\r\n                                            placeholder=\"Lastname\"\r\n                                            required=\"required\"\r\n                                            value={last_name}\r\n                                            onChange={this.handleChange}\r\n                                        />\r\n                                    </div>\r\n                                    <div className=\"form-group\">\r\n                                        <textarea\r\n                                            className=\"form-control\"\r\n                                            name=\"address\"\r\n                                            placeholder=\"Complete address\"\r\n                                            required=\"required\"\r\n                                            value={address}\r\n                                            onChange={this.handleChange}\r\n                                        >\r\n                                        </textarea>\r\n                                    </div>\r\n                                    <div className=\"form-group\">\r\n                                        <textarea\r\n                                            className=\"form-control\"\r\n                                            name=\"description\"\r\n                                            placeholder=\"Description\"\r\n                                            required=\"required\"\r\n                                            value={description}\r\n                                            onChange={this.handleChange}\r\n                                        >\r\n                                        </textarea>\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group\">\r\n                                        <button type=\"submit\" className=\"btn btn-primary\">\r\n                                            Update\r\n                                        </button>\r\n                                    </div>\r\n                                </form>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n                <Footer />\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nexport default MyProfile;\r\n"]},"metadata":{},"sourceType":"module"}