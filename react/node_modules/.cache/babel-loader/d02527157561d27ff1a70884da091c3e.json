{"ast":null,"code":"var deprecate = require('depd')('hsts');\n\nvar DEFAULT_MAX_AGE = 180 * 24 * 60 * 60;\n\nmodule.exports = function hsts(options) {\n  options = options || {};\n\n  if ('includeSubdomains' in options) {\n    deprecate('The \"includeSubdomains\" parameter is deprecated. Use \"includeSubDomains\" (with a capital D) instead.');\n  }\n\n  if ('setIf' in options) {\n    deprecate('The \"setIf\" parameter is deprecated. Refer to the documentation to see how to set the header conditionally.');\n  }\n\n  var maxAge = options.maxAge != null ? options.maxAge : DEFAULT_MAX_AGE;\n  var includeSubDomains = options.includeSubDomains !== false && options.includeSubdomains !== false;\n  var setIf = options.hasOwnProperty('setIf') ? options.setIf : alwaysTrue;\n\n  if (options.hasOwnProperty('maxage')) {\n    throw new Error('maxage is not a supported property. Did you mean to pass \"maxAge\" instead of \"maxage\"?');\n  }\n\n  if (arguments.length > 1) {\n    throw new Error('HSTS passed the wrong number of arguments.');\n  }\n\n  if (typeof maxAge !== 'number') {\n    throw new TypeError('HSTS must be passed a numeric maxAge parameter.');\n  }\n\n  if (maxAge < 0) {\n    throw new RangeError('HSTS maxAge must be nonnegative.');\n  }\n\n  if (typeof setIf !== 'function') {\n    throw new TypeError('setIf must be a function.');\n  }\n\n  if (options.hasOwnProperty('includeSubDomains') && options.hasOwnProperty('includeSubdomains')) {\n    throw new Error('includeSubDomains and includeSubdomains cannot both be specified.');\n  }\n\n  var header = 'max-age=' + Math.round(maxAge);\n\n  if (includeSubDomains) {\n    header += '; includeSubDomains';\n  }\n\n  if (options.preload) {\n    header += '; preload';\n  }\n\n  return function hsts(req, res, next) {\n    if (setIf(req, res)) {\n      res.setHeader('Strict-Transport-Security', header);\n    }\n\n    next();\n  };\n};\n\nfunction alwaysTrue() {\n  return true;\n}","map":{"version":3,"sources":["/home/fizoumizou/Documents/pfe/react/node_modules/hsts/index.js"],"names":["deprecate","require","DEFAULT_MAX_AGE","module","exports","hsts","options","maxAge","includeSubDomains","includeSubdomains","setIf","hasOwnProperty","alwaysTrue","Error","arguments","length","TypeError","RangeError","header","Math","round","preload","req","res","next","setHeader"],"mappings":"AAAA,IAAIA,SAAS,GAAGC,OAAO,CAAC,MAAD,CAAP,CAAgB,MAAhB,CAAhB;;AAEA,IAAIC,eAAe,GAAG,MAAM,EAAN,GAAW,EAAX,GAAgB,EAAtC;;AAEAC,MAAM,CAACC,OAAP,GAAiB,SAASC,IAAT,CAAeC,OAAf,EAAwB;AACvCA,EAAAA,OAAO,GAAGA,OAAO,IAAI,EAArB;;AAEA,MAAI,uBAAuBA,OAA3B,EAAoC;AAClCN,IAAAA,SAAS,CAAC,sGAAD,CAAT;AACD;;AAED,MAAI,WAAWM,OAAf,EAAwB;AACtBN,IAAAA,SAAS,CAAC,6GAAD,CAAT;AACD;;AAED,MAAIO,MAAM,GAAGD,OAAO,CAACC,MAAR,IAAkB,IAAlB,GAAyBD,OAAO,CAACC,MAAjC,GAA0CL,eAAvD;AACA,MAAIM,iBAAiB,GAAIF,OAAO,CAACE,iBAAR,KAA8B,KAA/B,IAA0CF,OAAO,CAACG,iBAAR,KAA8B,KAAhG;AACA,MAAIC,KAAK,GAAGJ,OAAO,CAACK,cAAR,CAAuB,OAAvB,IAAkCL,OAAO,CAACI,KAA1C,GAAkDE,UAA9D;;AAEA,MAAIN,OAAO,CAACK,cAAR,CAAuB,QAAvB,CAAJ,EAAsC;AACpC,UAAM,IAAIE,KAAJ,CAAU,wFAAV,CAAN;AACD;;AACD,MAAIC,SAAS,CAACC,MAAV,GAAmB,CAAvB,EAA0B;AACxB,UAAM,IAAIF,KAAJ,CAAU,4CAAV,CAAN;AACD;;AACD,MAAI,OAAON,MAAP,KAAkB,QAAtB,EAAgC;AAC9B,UAAM,IAAIS,SAAJ,CAAc,iDAAd,CAAN;AACD;;AACD,MAAIT,MAAM,GAAG,CAAb,EAAgB;AACd,UAAM,IAAIU,UAAJ,CAAe,kCAAf,CAAN;AACD;;AACD,MAAI,OAAOP,KAAP,KAAiB,UAArB,EAAiC;AAC/B,UAAM,IAAIM,SAAJ,CAAc,2BAAd,CAAN;AACD;;AACD,MAAIV,OAAO,CAACK,cAAR,CAAuB,mBAAvB,KAA+CL,OAAO,CAACK,cAAR,CAAuB,mBAAvB,CAAnD,EAAgG;AAC9F,UAAM,IAAIE,KAAJ,CAAU,mEAAV,CAAN;AACD;;AAED,MAAIK,MAAM,GAAG,aAAaC,IAAI,CAACC,KAAL,CAAWb,MAAX,CAA1B;;AACA,MAAIC,iBAAJ,EAAuB;AACrBU,IAAAA,MAAM,IAAI,qBAAV;AACD;;AACD,MAAIZ,OAAO,CAACe,OAAZ,EAAqB;AACnBH,IAAAA,MAAM,IAAI,WAAV;AACD;;AAED,SAAO,SAASb,IAAT,CAAeiB,GAAf,EAAoBC,GAApB,EAAyBC,IAAzB,EAA+B;AACpC,QAAId,KAAK,CAACY,GAAD,EAAMC,GAAN,CAAT,EAAqB;AACnBA,MAAAA,GAAG,CAACE,SAAJ,CAAc,2BAAd,EAA2CP,MAA3C;AACD;;AAEDM,IAAAA,IAAI;AACL,GAND;AAOD,CAjDD;;AAmDA,SAASZ,UAAT,GAAuB;AACrB,SAAO,IAAP;AACD","sourcesContent":["var deprecate = require('depd')('hsts')\n\nvar DEFAULT_MAX_AGE = 180 * 24 * 60 * 60\n\nmodule.exports = function hsts (options) {\n  options = options || {}\n\n  if ('includeSubdomains' in options) {\n    deprecate('The \"includeSubdomains\" parameter is deprecated. Use \"includeSubDomains\" (with a capital D) instead.')\n  }\n\n  if ('setIf' in options) {\n    deprecate('The \"setIf\" parameter is deprecated. Refer to the documentation to see how to set the header conditionally.')\n  }\n\n  var maxAge = options.maxAge != null ? options.maxAge : DEFAULT_MAX_AGE\n  var includeSubDomains = (options.includeSubDomains !== false) && (options.includeSubdomains !== false)\n  var setIf = options.hasOwnProperty('setIf') ? options.setIf : alwaysTrue\n\n  if (options.hasOwnProperty('maxage')) {\n    throw new Error('maxage is not a supported property. Did you mean to pass \"maxAge\" instead of \"maxage\"?')\n  }\n  if (arguments.length > 1) {\n    throw new Error('HSTS passed the wrong number of arguments.')\n  }\n  if (typeof maxAge !== 'number') {\n    throw new TypeError('HSTS must be passed a numeric maxAge parameter.')\n  }\n  if (maxAge < 0) {\n    throw new RangeError('HSTS maxAge must be nonnegative.')\n  }\n  if (typeof setIf !== 'function') {\n    throw new TypeError('setIf must be a function.')\n  }\n  if (options.hasOwnProperty('includeSubDomains') && options.hasOwnProperty('includeSubdomains')) {\n    throw new Error('includeSubDomains and includeSubdomains cannot both be specified.')\n  }\n\n  var header = 'max-age=' + Math.round(maxAge)\n  if (includeSubDomains) {\n    header += '; includeSubDomains'\n  }\n  if (options.preload) {\n    header += '; preload'\n  }\n\n  return function hsts (req, res, next) {\n    if (setIf(req, res)) {\n      res.setHeader('Strict-Transport-Security', header)\n    }\n\n    next()\n  }\n}\n\nfunction alwaysTrue () {\n  return true\n}\n"]},"metadata":{},"sourceType":"script"}