{"ast":null,"code":"import _defineProperty from\"/home/fizoumizou/Documents/pfe/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/fizoumizou/Documents/pfe/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/fizoumizou/Documents/pfe/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/fizoumizou/Documents/pfe/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/fizoumizou/Documents/pfe/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import axios from\"axios\";import Header from\"../Header\";import Footer from\"../Footer\";import{API_ENDPOINT,IMAGE_ENDPOINT}from\"../../constant\";var Doctor=/*#__PURE__*/function(_Component){_inherits(Doctor,_Component);var _super=_createSuper(Doctor);function Doctor(props){var _this;_classCallCheck(this,Doctor);_this=_super.call(this,props);_this.getDoctor=function(){var _this$state=_this.state,fees=_this$state.fees,treatment=_this$state.treatment;axios.get(\"\".concat(API_ENDPOINT,\"/doctors?fees=\").concat(fees,\"&treatment=\").concat(treatment),{withCredentials:true}).then(function(response){if(response.status===200){var data=response.data.doctors;_this.setState({list:data});}}).catch(function(error){return console.log(error);});};_this.getAppointemnt=function(id){_this.props.history.push(\"/booking\",{id:id});};_this.handleChange=function(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;_this.setState(_defineProperty({},name,value));};_this.onFilter=function(event){event.preventDefault();_this.getDoctor();};_this.state={list:[],fees:\"\",treatment:\"\"};return _this;}_createClass(Doctor,[{key:\"componentDidMount\",value:function componentDidMount(){this.getDoctor();}},{key:\"render\",value:function render(){var _this2=this;var _this$props=this.props,loggedInStatus=_this$props.loggedInStatus,user=_this$props.user,handleLogout=_this$props.handleLogout;var _this$state2=this.state,list=_this$state2.list,fees=_this$state2.fees,treatment=_this$state2.treatment;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Header,{loggedInStatus:loggedInStatus,user:user,isInner:true,handleLogout:handleLogout}),/*#__PURE__*/React.createElement(\"section\",{id:\"therapists\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"therapists-content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"text-center mt-5 pt-5 pb-2\"},/*#__PURE__*/React.createElement(\"h2\",null,\"I am looking for Therapist in Tunis Tunisia\")),/*#__PURE__*/React.createElement(\"hr\",null)),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12\"},/*#__PURE__*/React.createElement(\"form\",{className:\"row\",onSubmit:this.onFilter},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group col-md-4\"},/*#__PURE__*/React.createElement(\"input\",{type:\"number\",className:\"form-control\",name:\"fees\",placeholder:\"Fees\",value:fees,onChange:this.handleChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group col-md-4\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",name:\"treatment\",placeholder:\"Treatment\",value:treatment,onChange:this.handleChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group col-md-4\"},/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"btn btn-primary\"},\"Apply\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 pb-4\"},list.map(function(value,index){return/*#__PURE__*/React.createElement(\"div\",{className:\"card card-height\",key:index},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-auto\"},/*#__PURE__*/React.createElement(\"div\",{className:\"image_container mx-auto mx-md-0\"},/*#__PURE__*/React.createElement(\"img\",{src:IMAGE_ENDPOINT+value.image,alt:\"\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md text-center text-md-left\"},/*#__PURE__*/React.createElement(\"div\",{className:\"title\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"title-h2\"},\" \",value.name,\" \"),/*#__PURE__*/React.createElement(\"span\",{className:\"doc-type\"},\"therapist\"),/*#__PURE__*/React.createElement(\"span\",{className:\"badge badge-primary float-right\"},\"$ \",value.fees)),/*#__PURE__*/React.createElement(\"div\",{className:\"description\"},/*#__PURE__*/React.createElement(\"p\",null,value.description)),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return _this2.getAppointemnt(value.id);},className:\"btn btn-primary w-auto\"},\"Book Now\"),/*#__PURE__*/React.createElement(\"div\",{className:\"uc-specialist mt-3\"},value.treatments&&value.treatments.map(function(item,tindex){if(item.name){return/*#__PURE__*/React.createElement(\"span\",{key:tindex,className:\"badge badge-primary py-1 mr-1 mb-1\"},item.name);}return null;})))));})))))),/*#__PURE__*/React.createElement(Footer,null));}}]);return Doctor;}(Component);export default Doctor;","map":{"version":3,"sources":["/home/fizoumizou/Documents/pfe/react/src/components/doctors/Doctor.js"],"names":["React","Component","axios","Header","Footer","API_ENDPOINT","IMAGE_ENDPOINT","Doctor","props","getDoctor","state","fees","treatment","get","withCredentials","then","response","status","data","doctors","setState","list","catch","error","console","log","getAppointemnt","id","history","push","handleChange","event","target","name","value","onFilter","preventDefault","loggedInStatus","user","handleLogout","map","index","image","description","treatments","item","tindex"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport Header from \"../Header\";\r\nimport Footer from \"../Footer\";\r\nimport { API_ENDPOINT, IMAGE_ENDPOINT } from \"../../constant\";\r\n\r\nclass Doctor extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      list: [],\r\n      fees: \"\",\r\n      treatment: \"\",\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getDoctor();\r\n  }\r\n\r\n  getDoctor = () => {\r\n    const { fees, treatment } = this.state;\r\n\r\n    axios\r\n      .get(`${API_ENDPOINT}/doctors?fees=${fees}&treatment=${treatment}`, {\r\n        withCredentials: true,\r\n      })\r\n      .then((response) => {\r\n        if (response.status === 200) {\r\n          var data = response.data.doctors;\r\n          this.setState({ list: data });\r\n        }\r\n      })\r\n      .catch((error) => console.log(error));\r\n  };\r\n\r\n  getAppointemnt = (id) => {\r\n    this.props.history.push(\"/booking\", { id: id });\r\n  };\r\n\r\n  handleChange = (event) => {\r\n    const { name, value } = event.target;\r\n    this.setState({\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  onFilter = (event) => {\r\n    event.preventDefault();\r\n    this.getDoctor();\r\n  }\r\n\r\n  render() {\r\n    const { loggedInStatus, user, handleLogout } = this.props;\r\n    const { list, fees, treatment } = this.state;\r\n\r\n    return (\r\n      <div>\r\n        <Header\r\n          loggedInStatus={loggedInStatus}\r\n          user={user}\r\n          isInner={true}\r\n          handleLogout={handleLogout}\r\n        />\r\n\r\n        <section id=\"therapists\">\r\n          <div className=\"container\">\r\n            <div className=\"therapists-content\">\r\n              <div className=\"row\">\r\n                <div className=\"col-md-12\">\r\n                  <div className=\"text-center mt-5 pt-5 pb-2\">\r\n                    <h2>I am looking for Therapist in Tunis Tunisia</h2>\r\n                  </div>\r\n                  <hr />\r\n                </div>\r\n\r\n                <div className=\"col-md-12\">\r\n                  <form className=\"row\" onSubmit={this.onFilter}>\r\n                    <div className=\"form-group col-md-4\">\r\n                      <input\r\n                        type=\"number\"\r\n                        className=\"form-control\"\r\n                        name=\"fees\"\r\n                        placeholder=\"Fees\"\r\n                        value={fees}\r\n                        onChange={this.handleChange}\r\n                      />\r\n                    </div>\r\n                    <div className=\"form-group col-md-4\">\r\n                      <input\r\n                        type=\"text\"\r\n                        className=\"form-control\"\r\n                        name=\"treatment\"\r\n                        placeholder=\"Treatment\"\r\n                        value={treatment}\r\n                        onChange={this.handleChange}\r\n                      />\r\n                    </div>\r\n                    <div className=\"form-group col-md-4\">\r\n                      <button type=\"submit\" className=\"btn btn-primary\">\r\n                        Apply\r\n                      </button>\r\n                    </div>\r\n                  </form>\r\n                </div>\r\n\r\n                <div className=\"col-md-12 pb-4\">\r\n                  {list.map((value, index) => {\r\n                    return (\r\n                      <div className=\"card card-height\" key={index}>\r\n                        <div className=\"row\">\r\n                          <div className=\"col-md-auto\">\r\n                            <div className=\"image_container mx-auto mx-md-0\">\r\n                              <img src={IMAGE_ENDPOINT + value.image} alt=\"\" />\r\n                            </div>\r\n                          </div>\r\n\r\n                          <div className=\"col-md text-center text-md-left\">\r\n                            <div className=\"title\">\r\n                              <h2 className=\"title-h2\"> {value.name} </h2>\r\n                              <span className=\"doc-type\">therapist</span>\r\n                              <span className=\"badge badge-primary float-right\">\r\n                                $ {value.fees}\r\n                              </span>\r\n                            </div>\r\n                            <div className=\"description\">\r\n                              <p>{value.description}</p>\r\n                            </div>\r\n                            <button\r\n                              onClick={() => this.getAppointemnt(value.id)}\r\n                              className=\"btn btn-primary w-auto\"\r\n                            >\r\n                              Book Now\r\n                            </button>\r\n                            <div className=\"uc-specialist mt-3\">\r\n                              {value.treatments &&\r\n                                value.treatments.map((item, tindex) => {\r\n                                  if (item.name) {\r\n                                    return (\r\n                                      <span\r\n                                        key={tindex}\r\n                                        className=\"badge badge-primary py-1 mr-1 mb-1\"\r\n                                      >\r\n                                        {item.name}\r\n                                      </span>\r\n                                    );\r\n                                  }\r\n                                  return null\r\n                                })}\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n        <Footer />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Doctor;\r\n"]},"metadata":{},"sourceType":"module"}