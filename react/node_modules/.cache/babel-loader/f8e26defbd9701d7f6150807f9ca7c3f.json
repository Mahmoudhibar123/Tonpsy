{"ast":null,"code":"import _classCallCheck from\"/home/fizoumizou/Documents/pfe/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/fizoumizou/Documents/pfe/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/fizoumizou/Documents/pfe/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/fizoumizou/Documents/pfe/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import axios from\"axios\";import Header from\"./layout/Header\";import Sidebar from\"./layout/Sidebar\";import{API_ENDPOINT}from\"../../constant\";import{Container,Row,Col,Card}from\"react-bootstrap\";var Transaction=/*#__PURE__*/function(_Component){_inherits(Transaction,_Component);var _super=_createSuper(Transaction);function Transaction(props){var _this;_classCallCheck(this,Transaction);_this=_super.call(this,props);_this.getStats=function(){axios.get(\"\".concat(API_ENDPOINT,\"/admin/payments\"),{withCredentials:true}).then(function(response){if(response.status===200){var data=response.data.payments;_this.setState({transactions:data});}}).catch(function(error){return console.log(error);});};_this.state={transactions:[]};return _this;}_createClass(Transaction,[{key:\"componentDidMount\",value:function componentDidMount(){this.getStats();}},{key:\"render\",value:function render(){var handleLogout=this.props.handleLogout;var transactions=this.state.transactions;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Header,{handleLogout:handleLogout}),/*#__PURE__*/React.createElement(Sidebar,null),/*#__PURE__*/React.createElement(Container,{fluid:true,className:\"ucmain-content\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{lg:\"12\",className:\"pr-0\"},/*#__PURE__*/React.createElement(\"div\",{className:\"ucinner__content\"},/*#__PURE__*/React.createElement(Row,{className:\"mx-0 mt-3\"},/*#__PURE__*/React.createElement(Col,{md:\"12\"},/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(Card.Body,null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-2 mb-3\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"h2\"},\"Transactions\")),/*#__PURE__*/React.createElement(\"div\",{className:\"table-responsive\"},/*#__PURE__*/React.createElement(\"table\",{className:\"table table-striped table-sm\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"#\"),/*#__PURE__*/React.createElement(\"th\",null,\"Transaction Id\"),/*#__PURE__*/React.createElement(\"th\",null,\"Amount\"),/*#__PURE__*/React.createElement(\"th\",null,\"Patient\"),/*#__PURE__*/React.createElement(\"th\",null,\"Transaction Date\"),/*#__PURE__*/React.createElement(\"th\",null,\"Status\"))),/*#__PURE__*/React.createElement(\"tbody\",null,transactions.map(function(transaction){return/*#__PURE__*/React.createElement(\"tr\",{key:\"transaction-\".concat(transaction.id)},/*#__PURE__*/React.createElement(\"td\",null,transaction.id),/*#__PURE__*/React.createElement(\"td\",null,transaction.transaction_id),/*#__PURE__*/React.createElement(\"td\",null,transaction.amount,\" \",transaction.currency),/*#__PURE__*/React.createElement(\"td\",null,transaction.user?\"\".concat(transaction.user.first_name,\" \").concat(transaction.user.last_name):\"\",/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"small\",null,transaction.user.username)),/*#__PURE__*/React.createElement(\"td\",null,transaction.payment_date?transaction.payment_date.split(\"T\")[0]:\"\"),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"span\",{className:\"badge badge-primary\"},transaction.status===1?\"SUCCESS\":\"FAILED\")));})))))))))))));}}]);return Transaction;}(Component);export default Transaction;","map":{"version":3,"sources":["/home/fizoumizou/Documents/pfe/react/src/components/admin/Transaction.js"],"names":["React","Component","axios","Header","Sidebar","API_ENDPOINT","Container","Row","Col","Card","Transaction","props","getStats","get","withCredentials","then","response","status","data","payments","setState","transactions","catch","error","console","log","state","handleLogout","map","transaction","id","transaction_id","amount","currency","user","first_name","last_name","username","payment_date","split"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport Header from \"./layout/Header\";\r\nimport Sidebar from \"./layout/Sidebar\";\r\nimport { API_ENDPOINT } from \"../../constant\";\r\nimport { Container, Row, Col, Card } from \"react-bootstrap\";\r\n\r\nclass Transaction extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      transactions: [],\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getStats();\r\n  }\r\n\r\n  getStats = () => {\r\n    axios\r\n      .get(`${API_ENDPOINT}/admin/payments`, { withCredentials: true })\r\n      .then((response) => {\r\n        if (response.status === 200) {\r\n          var data = response.data.payments;\r\n          this.setState({ transactions: data });\r\n        }\r\n      })\r\n      .catch((error) => console.log(error));\r\n  };\r\n\r\n  render() {\r\n    const { handleLogout } = this.props;\r\n    const { transactions } = this.state;\r\n\r\n    return (\r\n      <>\r\n        <Header handleLogout={handleLogout} />\r\n        <Sidebar />\r\n        <Container fluid className=\"ucmain-content\">\r\n          <Row>\r\n            <Col lg=\"12\" className=\"pr-0\">\r\n              <div className=\"ucinner__content\">\r\n                <Row className=\"mx-0 mt-3\">\r\n                  <Col md=\"12\">\r\n                    <Card>\r\n                      <Card.Body>\r\n                        <div className=\"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-2 mb-3\">\r\n                          <h1 className=\"h2\">Transactions</h1>\r\n                        </div>\r\n                        <div className=\"table-responsive\">\r\n                          <table className=\"table table-striped table-sm\">\r\n                            <thead>\r\n                              <tr>\r\n                                <th>#</th>\r\n                                <th>Transaction Id</th>\r\n                                <th>Amount</th>\r\n                                <th>Patient</th>\r\n                                <th>Transaction Date</th>\r\n                                <th>Status</th>\r\n                              </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                              {transactions.map((transaction) => {\r\n                                return (\r\n                                  <tr key={`transaction-${transaction.id}`}>\r\n                                    <td>{transaction.id}</td>\r\n                                    <td>{transaction.transaction_id}</td>\r\n                                    <td>\r\n                                      {transaction.amount}{\" \"}\r\n                                      {transaction.currency}\r\n                                    </td>\r\n                                    <td>\r\n                                      {transaction.user\r\n                                        ? `${transaction.user.first_name} ${transaction.user.last_name}`\r\n                                        : \"\"}\r\n                                      <br />\r\n                                      <small>{transaction.user.username}</small>\r\n                                    </td>\r\n                                    <td>\r\n                                      {transaction.payment_date\r\n                                        ? transaction.payment_date.split(\"T\")[0]\r\n                                        : \"\"}\r\n                                    </td>\r\n                                    <td>\r\n                                      <span className=\"badge badge-primary\">\r\n                                        {transaction.status === 1\r\n                                          ? \"SUCCESS\"\r\n                                          : \"FAILED\"}\r\n                                      </span>\r\n                                    </td>\r\n                                  </tr>\r\n                                );\r\n                              })}\r\n                            </tbody>\r\n                          </table>\r\n                        </div>\r\n                      </Card.Body>\r\n                    </Card>\r\n                  </Col>\r\n                </Row>\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Transaction;\r\n"]},"metadata":{},"sourceType":"module"}