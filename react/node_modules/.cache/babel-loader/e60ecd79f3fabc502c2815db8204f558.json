{"ast":null,"code":"import _classCallCheck from\"/home/fizoumizou/Documents/pfe/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/fizoumizou/Documents/pfe/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/fizoumizou/Documents/pfe/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/fizoumizou/Documents/pfe/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import axios from\"axios\";import Header from\"./layout/Header\";import Sidebar from\"./layout/Sidebar\";import{API_ENDPOINT}from\"../../constant\";import{Container,Row,Col,Card}from\"react-bootstrap\";var Booking=/*#__PURE__*/function(_Component){_inherits(Booking,_Component);var _super=_createSuper(Booking);function Booking(props){var _this;_classCallCheck(this,Booking);_this=_super.call(this,props);_this.getStats=function(){axios.get(\"\".concat(API_ENDPOINT,\"/admin/bookings\"),{withCredentials:true}).then(function(response){if(response.status===200){var data=response.data.bookings;_this.setState({bookings:data});}}).catch(function(error){return console.log(error);});};_this.state={bookings:[]};return _this;}_createClass(Booking,[{key:\"componentDidMount\",value:function componentDidMount(){this.getStats();}},{key:\"render\",value:function render(){var handleLogout=this.props.handleLogout;var bookings=this.state.bookings;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Header,{handleLogout:handleLogout}),/*#__PURE__*/React.createElement(Sidebar,null),/*#__PURE__*/React.createElement(Container,{fluid:true,className:\"ucmain-content\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{lg:\"12\",className:\"pr-0\"},/*#__PURE__*/React.createElement(\"div\",{className:\"ucinner__content\"},/*#__PURE__*/React.createElement(Row,{className:\"mx-0 mt-3\"},/*#__PURE__*/React.createElement(Col,{md:\"12\"},/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(Card.Body,null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-2 mb-3\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"h2\"},\"Bookings\")),/*#__PURE__*/React.createElement(\"div\",{className:\"table-responsive\"},/*#__PURE__*/React.createElement(\"table\",{className:\"table table-striped table-sm\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"#\"),/*#__PURE__*/React.createElement(\"th\",null,\"Booking Date\"),/*#__PURE__*/React.createElement(\"th\",null,\"Timeslot\"),/*#__PURE__*/React.createElement(\"th\",null,\"Patient\"),/*#__PURE__*/React.createElement(\"th\",null,\"Therapist\"),/*#__PURE__*/React.createElement(\"th\",null,\"Status\"))),/*#__PURE__*/React.createElement(\"tbody\",null,bookings.map(function(booking){return/*#__PURE__*/React.createElement(\"tr\",{key:\"booking-\".concat(booking.id)},/*#__PURE__*/React.createElement(\"td\",null,booking.id),/*#__PURE__*/React.createElement(\"td\",null,booking.book_date?booking.book_date.split(\"T\")[0]:\"\"),/*#__PURE__*/React.createElement(\"td\",null,booking.timeslot),/*#__PURE__*/React.createElement(\"td\",null,booking.user?\"\".concat(booking.user.first_name,\" \").concat(booking.user.last_name):\"\",/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"small\",null,booking.user?booking.user.username:'')),/*#__PURE__*/React.createElement(\"td\",null,booking.doctor?booking.doctor.name:\"\"),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"span\",{className:\"badge badge-primary\"},booking.status)));})))))))))))));}}]);return Booking;}(Component);export default Booking;","map":{"version":3,"sources":["/home/fizoumizou/Documents/pfe/react/src/components/admin/Booking.js"],"names":["React","Component","axios","Header","Sidebar","API_ENDPOINT","Container","Row","Col","Card","Booking","props","getStats","get","withCredentials","then","response","status","data","bookings","setState","catch","error","console","log","state","handleLogout","map","booking","id","book_date","split","timeslot","user","first_name","last_name","username","doctor","name"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport Header from \"./layout/Header\";\r\nimport Sidebar from \"./layout/Sidebar\";\r\nimport { API_ENDPOINT } from \"../../constant\";\r\nimport { Container, Row, Col, Card } from \"react-bootstrap\";\r\n\r\nclass Booking extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      bookings: [],\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getStats();\r\n  }\r\n\r\n  getStats = () => {\r\n    axios\r\n      .get(`${API_ENDPOINT}/admin/bookings`, { withCredentials: true })\r\n      .then((response) => {\r\n        if (response.status === 200) {\r\n          var data = response.data.bookings;\r\n          this.setState({ bookings: data });\r\n        }\r\n      })\r\n      .catch((error) => console.log(error));\r\n  };\r\n\r\n  render() {\r\n    const { handleLogout } = this.props;\r\n    const { bookings } = this.state;\r\n\r\n    return (\r\n      <>\r\n        <Header handleLogout={handleLogout} />\r\n        <Sidebar />\r\n        <Container fluid className=\"ucmain-content\">\r\n          <Row>\r\n            <Col lg=\"12\" className=\"pr-0\">\r\n              <div className=\"ucinner__content\">\r\n                <Row className=\"mx-0 mt-3\">\r\n                  <Col md=\"12\">\r\n                    <Card>\r\n                      <Card.Body>\r\n                        <div className=\"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-2 mb-3\">\r\n                          <h1 className=\"h2\">Bookings</h1>\r\n                        </div>\r\n                        <div className=\"table-responsive\">\r\n                          <table className=\"table table-striped table-sm\">\r\n                            <thead>\r\n                              <tr>\r\n                                <th>#</th>\r\n                                <th>Booking Date</th>\r\n                                <th>Timeslot</th>\r\n                                <th>Patient</th>\r\n                                <th>Therapist</th>\r\n                                <th>Status</th>\r\n                              </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                              {bookings.map((booking) => {\r\n                                return (\r\n                                  <tr key={`booking-${booking.id}`}>\r\n                                    <td>{booking.id}</td>\r\n                                    <td>\r\n                                      {booking.book_date\r\n                                        ? booking.book_date.split(\"T\")[0]\r\n                                        : \"\"}\r\n                                    </td>\r\n                                    <td>{booking.timeslot}</td>\r\n                                    <td>\r\n                                      {booking.user\r\n                                        ? `${booking.user.first_name} ${booking.user.last_name}`\r\n                                        : \"\"}\r\n                                      <br />\r\n                                      <small>{booking.user ? booking.user.username : ''}</small>\r\n                                    </td>\r\n                                    <td>\r\n                                      {booking.doctor\r\n                                        ? booking.doctor.name\r\n                                        : \"\"}\r\n                                    </td>\r\n                                    <td>\r\n                                      <span className=\"badge badge-primary\">\r\n                                        {booking.status}\r\n                                      </span>\r\n                                    </td>\r\n                                  </tr>\r\n                                );\r\n                              })}\r\n                            </tbody>\r\n                          </table>\r\n                        </div>\r\n                      </Card.Body>\r\n                    </Card>\r\n                  </Col>\r\n                </Row>\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Booking;\r\n"]},"metadata":{},"sourceType":"module"}